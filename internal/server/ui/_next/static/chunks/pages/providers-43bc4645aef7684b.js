(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{8003:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/providers",function(){return t(999)}])},3701:function(e,n,t){"use strict";t.d(n,{a:function(){return r},p:function(){return i}});var r=[{name:"Okta",kind:"okta",available:!0},{name:"Google",kind:"google"},{name:"Azure Active Directory",kind:"azure-ad"},{name:"GitHub",kind:"github"},{name:"GitLab",kind:"gitlab"},{name:"OpenID",kind:"openid"}];function i(e){return(null===e||void 0===e?void 0:e.endsWith(".okta.com"))?"okta":""}},999:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(4051),i=t.n(r),o=t(5893),a=t(8100),u=t(7294),s=t(9008),c=t(9521),l=t(5506),d=t(3701),v=t(9540),f=t(1399),m=t(5857),h=t(5140),p=t(3251),x=t(5388);function g(e,n,t,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void t(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}var j=[{Header:"Name",accessor:function(e){return e},Cell:function(e){var n=e.value;return(0,o.jsxs)("div",{className:"flex py-1.5 items-center",children:[(0,o.jsx)("div",{className:"border border-gray-800 flex-none flex items-center justify-center w-7 h-7 rounded-md",children:(0,d.p)(n.url)?(0,o.jsx)("img",{className:"h-2",src:"/providers/".concat((0,d.p)(n.url),".svg")}):n.name[0].toUpperCase()}),(0,o.jsx)("div",{className:"text-2xs leading-none ml-3",children:n.name})]})}},{Header:"URL",accessor:function(e){return e},Cell:function(e){var n=e.value;return(0,o.jsx)("div",{className:"text-3xs text-gray-400 font-mono",children:n.url})}},{id:"delete",accessor:function(e){return e},Cell:function(e){var n=e.value,t=e.rows,r=(0,a.kY)().mutate,s=(0,u.useState)(!1),c=s[0],d=s[1];return(0,o.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 flex justify-end text-right",children:[(0,o.jsx)("button",{onClick:function(){return d(!0)},className:"p-2 -mr-2 cursor-pointer",children:(0,o.jsx)(l.Z,{className:"w-4 h-4 text-gray-500 hover:text-white"})}),(0,o.jsx)(f.Z,{open:c,setOpen:d,onCancel:function(){return d(!1)},onSubmit:function(){r("/v1/providers",function(){var e,t=(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/v1/providers/".concat(n.id),{method:"DELETE"});case 2:return e.abrupt("return",null===t||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==n.id})));case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){g(o,r,i,a,u,"next",e)}function u(e){g(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{optimisticData:t.map((function(e){return e.original})).filter((function(e){return(null===e||void 0===e?void 0:e.id)!==n.id}))}),d(!1)},title:"Delete Identity Provider",message:(0,o.jsxs)(o.Fragment,{children:["Are you sure you want to delete ",(0,o.jsx)("span",{className:"font-bold text-white",children:n.name}),"? This action cannot be undone."]})})]})}}];function w(){var e,n=(0,a.ZP)("/v1/providers"),t=n.data,r=n.error,i=(0,c.useTable)({columns:j,data:t||[]}),u=!t&&!r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.default,{children:(0,o.jsx)("title",{children:"Identity Providers - Infra"})}),u?(0,o.jsx)(h.Z,{}):(0,o.jsxs)("div",{className:"flex-1 flex flex-col space-y-4",children:[(0,o.jsx)(x.Z,{header:"Providers",buttonHref:"/providers/add",buttonLabel:"Provider"}),(null===r||void 0===r?void 0:r.status)?(0,o.jsx)("div",{className:"my-20 text-center font-light text-gray-300 text-sm",children:null===r||void 0===r||null===(e=r.info)||void 0===e?void 0:e.message}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,y({highlight:!1},i)),0===(null===t||void 0===t?void 0:t.length)&&(0,o.jsx)(p.Z,{title:"There are no providers",subtitle:(0,o.jsx)(o.Fragment,{children:"Identity providers allow you to connect your existing users & groups to Infra."}),iconPath:"/providers.svg",buttonHref:"/providers/add",buttonText:"Provider"})]})]})]})}w.layout=function(e){return(0,o.jsx)(v.Z,{children:e})}}},function(e){e.O(0,[551,608,362,774,888,179],(function(){return n=8003,e(e.s=n);var n}));var n=e.O();_N_E=n}]);