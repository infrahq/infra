(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{9562:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/callback",function(){return r(8380)}])},8380:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(4051),o=r.n(n),i=r(5893),c=r(7294),a=r(1163),s=r(8100);function u(e,t,r,n,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void r(u)}a.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){u(i,n,o,c,a,"next",e)}function a(e){u(i,n,o,c,a,"throw",e)}c(void 0)}))}}function l(){var e=(0,s.kY)().mutate,t=(0,a.useRouter)();function r(){return(r=d(o().mark((function r(n){var i,c,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.providerID,c=n.code,a=n.redirectURL,r.next=3,fetch("/v1/login",{method:"POST",body:JSON.stringify({oidc:{providerID:i,code:c,redirectURL:a}})});case 3:return r.next=5,e("/v1/users/self");case 5:t.replace("/");case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return(0,c.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());t.state===window.localStorage.getItem("state")&&(!function(e){r.apply(this,arguments)}({providerID:window.localStorage.getItem("providerId"),code:t.code,redirectURL:window.localStorage.getItem("redirectURL")}),window.localStorage.removeItem("providerId"),window.localStorage.removeItem("state"),window.localStorage.removeItem("redirectURL"))}),[]),(0,i.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,i.jsx)("img",{className:"w-40 h-40 animate-spin-fast",src:"/spinner.svg"})})}}},function(e){e.O(0,[774,888,179],(function(){return t=9562,e(e.s=t);var t}));var t=e.O();_N_E=t}]);