(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{8003:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/providers",function(){return r(999)}])},3850:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(4051),i=r.n(n),s=r(5893),l=r(1664),a=r(1163),o=r(8100);function c(e,t,r,n,i,s,l){try{var a=e[s](l),o=a.value}catch(c){return void r(c)}a.done?t(o):Promise.resolve(o).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function l(e){c(s,n,i,l,a,"next",e)}function a(e){c(s,n,i,l,a,"throw",e)}l(void 0)}))}}var u=[{name:"Infrastructure",href:"/destinations",icon:"/infrastructure.svg"},{name:"Identities",href:"/identities",icon:"/identities.svg"},{name:"Identity Providers",href:"/providers",icon:"/providers.svg"}];function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function m(e){var t,r=e.children,n=(0,a.useRouter)(),c=(0,o.ZP)("/v1/introspect").data,m=(0,o.kY)().mutate;function x(){return(x=d(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/v1/logout",{method:"POST"}),m("/v1/introspect",void 0),n.replace("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)("div",{className:"flex h-full relative",children:[(0,s.jsxs)("nav",{className:"flex-none flex w-64 lg:w-72 flex-col inset-y-0 px-2 overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center my-12 px-6",children:(0,s.jsx)(l.default,{href:"/",children:(0,s.jsx)("a",{children:(0,s.jsx)("img",{className:"h-4 w-auto",src:"infra.svg",alt:"Infra"})})})}),(0,s.jsx)("div",{className:"flex-1 space-y-1 px-4",children:u.map((function(e){return(0,s.jsx)(l.default,{href:e.href,children:(0,s.jsxs)("a",{href:e.href,className:f(n.asPath.startsWith(e.href)?"bg-purple-200/20 text-purple-100 font-bold":"text-gray-400 hover:bg-zinc-900 hover:text-gray-300","group rounded-md py-[7px] px-2 flex items-center text-sm font-medium"),children:[(0,s.jsx)("img",{src:e.icon,className:f(n.asPath.startsWith(e.href)?"":"opacity-50","mr-3 flex-shrink-0 h-5 w-5"),"aria-hidden":"true"}),e.name]})},e.name)}))}),(0,s.jsxs)("div",{className:"relative group mx-2 my-5 h-16 hover:h-28 hover:bg-purple-100/5 transition-height transition-size px-4 duration-300 ease-in-out rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 my-4",children:[(0,s.jsx)("div",{className:"bg-purple-100/10 flex-none flex items-center justify-center w-9 h-9 py-1.5 rounded-lg capitalize font-bold select-none",children:null===c||void 0===c||null===(t=c.name)||void 0===t?void 0:t[0]}),(0,s.jsx)("div",{onClick:function(){a.default.push({pathname:"/settings"},void 0,{shallow:!0})},className:"text-gray-300 text-sm font-medium overflow-hidden overflow-ellipsis cursor-pointer",children:null===c||void 0===c?void 0:c.name})]}),(0,s.jsx)("div",{className:"absolute group w-full px-2 flex items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm",children:(0,s.jsxs)("div",{onClick:function(){return function(){return x.apply(this,arguments)}()},className:"w-full flex opacity-50 hover:opacity-75 py-2 cursor-pointer",children:[(0,s.jsx)("img",{src:"/signout.svg",className:"opacity-50 group-hover:opacity-75 mr-3"}),(0,s.jsx)("div",{className:"text-purple-50/40 group-hover:text-purple-50",children:"Logout"})]})})]})]}),(0,s.jsx)("main",{className:"w-full px-4 mx-auto xl:max-w-4xl 2xl:max-w-5xl overflow-x-hidden overflow-y-scroll",children:r})]})}},1399:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5893),i=r(7294),s=r(6727),l=r(8771);function a(e){var t=e.open,r=e.setOpen,a=e.onSubmit,o=e.title,c=e.message,d=(0,i.useRef)(null);return(0,n.jsx)(s.uT.Root,{show:t,as:i.Fragment,children:(0,n.jsx)(s.Vq,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:d,onClose:r,children:(0,n.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,n.jsx)(s.uT.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(s.Vq.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),(0,n.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,n.jsx)(s.uT.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsx)("div",{className:"relative inline-block bg-gradient-to-tr from-[#B06363] to-[#FF00C7] rounded-3xl text-left overflow-hidden shadow-xl transform transition-all my-8 align-middle max-w-2xl w-full p-px",children:(0,n.jsxs)("div",{className:"bg-black px-10 pt-12 pb-8 rounded-3xl",children:[(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"rounded-full bg-gradient-to-tr from-[#B06363] to-[#FF00C7]",children:(0,n.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-black m-0.5",children:(0,n.jsx)(l.Z,{className:"h-6 w-6 text-[#D3398F]","aria-hidden":"true"})})}),(0,n.jsxs)("div",{className:"mt-1 ml-5 text-left",children:[(0,n.jsx)(s.Vq.Title,{as:"h3",className:"text-base leading-6 font-bold text-white",children:o}),(0,n.jsx)("p",{className:"text-sm text-gray-400 my-0.5",children:c})]})]}),(0,n.jsxs)("div",{className:"mt-8 text-sm flex flex-row-reverse",children:[(0,n.jsx)("button",{type:"button",className:"w-auto inline-flex justify-center rounded-full bg-gradient-to-tr from-[#B06363] to-[#FF00C7] font-medium text-white focus:outline-none focus:ring-2 focus:ring-[#FF00C7] ml-3",onClick:function(){return a()},children:(0,n.jsx)("div",{className:"bg-black px-10 py-3.5 rounded-full m-0.5",children:"Delete"})}),(0,n.jsx)("button",{type:"button",className:"w-auto inline-flex items-center justify-center rounded-full px-10 py-3.5 bg-black hover:opacity-75 font-medium text-white focus:outline-none focus:ring-2 focus:ring-zinc-600",onClick:function(){return r(!1)},ref:d,children:"Cancel"})]})]})})})]})})})}},5857:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function l(e){var t=e.getTableProps,r=e.getTableBodyProps,i=e.headerGroups,l=e.rows,a=e.prepareRow;return(0,n.jsxs)("table",s({className:"w-full table-auto"},t(),{children:[(0,n.jsx)("thead",{className:"border-b border-zinc-800",children:i.map((function(e){return(0,n.jsx)("tr",s({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,n.jsx)("th",s({className:"text-left uppercase py-2 font-normal text-sm text-gray-400"},e.getHeaderProps(),{children:e.render("Header")}),e.id)}))}),e.id)}))}),(0,n.jsx)("tbody",s({},r(),{children:l.map((function(e){return a(e),(0,n.jsx)("tr",s({className:"text-sm group"},e.getRowProps(),{children:e.cells.map((function(e){return(0,n.jsx)("td",s({className:"py-1 group-first:pt-3"},e.getCellProps(),{children:e.render("Cell")}),e.id)}))}),e.id)}))}))]}))}},3701:function(e,t,r){"use strict";r.d(t,{a:function(){return n},p:function(){return i}});var n=[{name:"Okta",kind:"okta",available:!0},{name:"Google",kind:"google"},{name:"Azure Active Directory",kind:"azure-ad"},{name:"GitHub",kind:"github"},{name:"GitLab",kind:"gitlab"},{name:"OpenID",kind:"openid"}];function i(e){return(null===e||void 0===e?void 0:e.endsWith(".okta.com"))?"okta":""}},999:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(4051),i=r.n(n),s=r(5893),l=r(8100),a=r(7294),o=r(9008),c=r(1664),d=r(9521),u=r(5506),f=r(7484),m=r.n(f),x=r(1399),h=r(3850),p=r(5857),v=r(3701);function g(e,t,r,n,i,s,l){try{var a=e[s](l),o=a.value}catch(c){return void r(c)}a.done?t(o):Promise.resolve(o).then(n,i)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}var b=[{Header:"Identity Provider",accessor:function(e){return e},Cell:function(e){var t=e.value;return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 mr-4 bg-purple-100/10 font-bold rounded-lg flex items-center justify-center",children:(0,v.p)(t.url)?(0,s.jsx)("img",{className:"h-2.5",src:"/providers/".concat((0,v.p)(t.url),".svg")}):t.name[0].toUpperCase()}),(0,s.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,s.jsx)("div",{className:"font-medium",children:t.name}),(0,s.jsx)("div",{className:"text-gray-400 text-xs",children:t.url})]})]})}},{Header:"Added",accessor:function(e){return m()(e.created).fromNow()}},{id:"delete",accessor:function(e){return e},Cell:function(e){var t=e.value,r=e.rows,n=(0,l.kY)().mutate,o=(0,a.useState)(!1),c=o[0],d=o[1];return console.log(r),(0,s.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 flex justify-end text-right",children:[(0,s.jsx)("button",{onClick:function(){return d(!0)},className:"p-2 -mr-2 cursor-pointer",children:(0,s.jsx)(u.Z,{className:"w-5 h-5 text-gray-500"})}),(0,s.jsx)(x.Z,{open:c,setOpen:d,onSubmit:function(){n("/v1/providers",function(){var e,r=(e=i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/v1/providers/".concat(t.id),{method:"DELETE"});case 2:return e.abrupt("return",r.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==t.id})));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function l(e){g(s,n,i,l,a,"next",e)}function a(e){g(s,n,i,l,a,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}(),{optimisticData:r.map((function(e){return e.original})).filter((function(e){return(null===e||void 0===e?void 0:e.id)!==t.id}))})},title:"Delete Identity Provider",message:(0,s.jsxs)(s.Fragment,{children:["Are you sure you want to delete ",(0,s.jsx)("span",{className:"font-bold text-white",children:t.name}),"? This action cannot be undone."]})})]})}}];function w(){var e,t=(0,l.ZP)("/v1/providers"),r=t.data,n=t.error,i=(0,d.useTable)({columns:b,data:r||[]}),a=!r&&!n;return(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(o.default,{children:(0,s.jsx)("title",{children:"Identity Providers - Infra"})}),a?(0,s.jsx)("div",{className:"h-full -mt-20 flex items-center justify-center",children:(0,s.jsx)("img",{className:"w-20 h-20 animate-spin-fast",src:"/spinner.svg"})}):(0,s.jsxs)("div",{className:"flex flex-row mt-10 lg:mt-20",children:[(null===r||void 0===r?void 0:r.length)>0&&(0,s.jsx)("div",{className:"hidden lg:flex self-start mt-4 mr-8 bg-gradient-to-br from-violet-400/30 to-pink-200/30 items-center justify-center rounded-full",children:(0,s.jsx)("div",{className:"flex bg-black items-center justify-center rounded-full w-16 h-16 m-0.5",children:(0,s.jsx)("img",{className:"w-8 h-8",src:"/providers-color.svg"})})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col space-y-4",children:[(null===r||void 0===r?void 0:r.length)>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold my-4",children:"Identity Providers"}),(0,s.jsx)(c.default,{href:"/providers/add",children:(0,s.jsx)("button",{className:"bg-gradient-to-tr from-indigo-300 to-pink-100 hover:from-indigo-200 hover:to-pink-50 rounded-full p-0.5 my-2",children:(0,s.jsx)("div",{className:"bg-black rounded-full flex items-center text-sm px-4 py-1.5 ",children:"Add Identity Provider"})})})]}),(null===n||void 0===n?void 0:n.status)?(0,s.jsx)("div",{className:"my-20 text-center font-light text-gray-400 text-2xl",children:null===n||void 0===n||null===(e=n.info)||void 0===e?void 0:e.message}):0===r.length?(0,s.jsxs)("div",{className:"flex flex-col text-center my-24",children:[(0,s.jsx)("div",{className:"flex bg-gradient-to-br from-violet-400/30 to-pink-200/30 items-center justify-center rounded-full mx-auto my-4",children:(0,s.jsx)("div",{className:"flex bg-black items-center justify-center rounded-full w-16 h-16 m-0.5",children:(0,s.jsx)("img",{className:"w-8 h-8",src:"/providers-color.svg"})})}),(0,s.jsx)("h1",{className:"text-white text-lg font-bold mb-2",children:"There are no identity providers"}),(0,s.jsx)("h2",{className:"text-gray-300 mb-4 text-sm max-w-xs mx-auto",children:"Identity providers allow you to connect your existing users & groups to Infra."}),(0,s.jsx)(c.default,{href:"/providers/add",children:(0,s.jsx)("button",{className:"bg-gradient-to-tr from-indigo-300 to-pink-100 hover:from-indigo-200 hover:to-pink-50 rounded-full p-0.5 my-2 mx-auto",children:(0,s.jsx)("div",{className:"bg-black rounded-full flex items-center tracking-tight text-sm px-6 py-3 ",children:"Add Identity Provider"})})})]}):(0,s.jsx)(p.Z,j({},i))]})]})]})}}},function(e){e.O(0,[727,870,774,888,179],(function(){return t=8003,e(e.s=t);var t}));var t=e.O();_N_E=t}]);