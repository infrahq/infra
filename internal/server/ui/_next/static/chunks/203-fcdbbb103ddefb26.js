"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1431:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(5893);function i(e){var n=e.iconPath,t=e.size,i=void 0===t?8:t,s=e.position;return(0,r.jsx)("div",{className:"flex items-center justify-center bg-gradient-to-br from-violet-400/30 to-pink-200/30 rounded-full ".concat("center"===s?"mx-auto my-4":""),children:(0,r.jsx)("div",{className:"flex bg-black items-center justify-center rounded-full w-16 h-16 m-0.5",children:(0,r.jsx)("img",{className:"w-".concat(i," h-").concat(i),src:n})})})}},9540:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(4051),i=t.n(r),s=t(5893),a=t(1664),o=t.n(a),l=t(1163),c=t(8100),u=t(661);function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n,t,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void t(c)}o.done?n(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function a(e){f(s,r,i,a,o,"next",e)}function o(e){f(s,r,i,a,o,"throw",e)}a(void 0)}))}}function x(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var n,t=e.children,r=(0,l.useRouter)(),a=(0,c.ZP)("/v1/identities/self").data,d=(0,c.ZP)("/v1/version").data,f=(0,u.A)(),h=f.admin,p=f.loading,v=(0,c.kY)().mutate;if(p)return null;function y(){return(y=m(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("/v1/logout",{method:"POST"}),e.next=3,v("/v1/identities/self",m(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))));case 3:r.replace("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=[{name:"Clusters",href:"/destinations",icon:"/destinations.svg"},{name:"Identity Providers",href:"/providers",icon:"/providers.svg",admin:!0}],b=[{name:"Settings",href:"/settings",icon:"/settings.svg",admin:!0}],j=!0,w=!1,N=void 0;try{for(var k,P=x(g).concat(x(b))[Symbol.iterator]();!(j=(k=P.next()).done);j=!0){var C=k.value;if(r.asPath.startsWith(C.href)&&C.admin&&!h)return r.replace("/"),null}}catch(O){w=!0,N=O}finally{try{j||null==P.return||P.return()}finally{if(w)throw N}}return(0,s.jsxs)("div",{className:"flex h-full relative",children:[(0,s.jsxs)("nav",{className:"flex-none flex w-64 lg:w-72 flex-col inset-y-0 px-2 overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center my-12 lg:my-18 px-6 select-none",children:(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{children:(0,s.jsx)("img",{className:"h-[18px] w-auto",src:"infra.svg",alt:"Infra"})})})}),(0,s.jsx)("div",{className:"flex-1 space-y-1.5 px-3 select-none",children:g.map((function(e){return(0,s.jsx)(o(),{href:e.href,children:(0,s.jsxs)("a",{href:e.href,className:"\n                  ".concat(r.asPath.startsWith(e.href)?"bg-purple-200/10 text-white":"text-gray-300 hover:bg-purple-200/5 hover:text-white","\n                  rounded-lg py-2 px-3 flex items-center text-sm transition-colors duration-100\n                  ").concat(e.admin&&!h?"opacity-30 pointer-events-none":"","\n                "),children:[(0,s.jsx)("img",{src:e.icon,className:"".concat(r.asPath.startsWith(e.href)?"":"opacity-30"," mr-3 flex-shrink-0 h-5 w-5")}),e.name]})},e.name)}))}),(0,s.jsxs)("div",{className:"relative group mx-2 my-5 h-16 hover:h-[178px] hover:bg-purple-100/5 transition-height transition-size px-4 duration-300 ease-in-out rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4 mb-2",children:[(0,s.jsx)("div",{className:"bg-purple-100/10 flex-none flex items-center justify-center w-9 h-9 py-1.5 rounded-lg capitalize font-bold select-none",children:null===a||void 0===a||null===(n=a.name)||void 0===n?void 0:n[0]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-gray-300 text-sm overflow-hidden overflow-ellipsis leading-none",children:null===a||void 0===a?void 0:a.name}),h&&(0,s.jsx)("div",{className:"text-gray-300 text-xs leading-none my-1 capitalize",children:"Admin"})]})]}),(0,s.jsxs)("div",{className:"w-full px-2 py-1 items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 select-none text-sm",children:[(0,s.jsxs)("div",{onClick:function(){return function(){return y.apply(this,arguments)}()},className:"w-full flex items-center opacity-50 hover:opacity-75 py-2 cursor-pointer",children:[(0,s.jsx)("img",{src:"/signout.svg",className:"opacity-50 group-hover:opacity-75 h-3 mr-3"}),(0,s.jsx)("div",{className:"text-gray-300 group-hover:text-white",children:"Logout"})]}),b.map((function(e){return(0,s.jsx)(o(),{href:e.href,children:(0,s.jsxs)("a",{className:"w-full flex -ml-1 opacity-50 hover:opacity-75 py-2 ".concat(e.admin&&!h?"pointer-events-none opacity-20":""),children:[(0,s.jsx)("img",{src:e.icon,className:"opacity-50 group-hover:opacity-75 mr-3 w-5 h-5"}),(0,s.jsx)("div",{className:"text-gray-300 group-hover:text-white",children:e.name})]})},e.name)}))]}),(0,s.jsxs)("div",{className:"px-2 pt-1 pb-3 text-xs text-gray-300",children:["Infra version ",null===d||void 0===d?void 0:d.version]})]})]}),(0,s.jsx)("main",{className:"w-full overflow-x-hidden overflow-y-scroll",children:(0,s.jsx)("div",{className:"mx-auto xl:max-w-4xl 2xl:max-w-5xl",children:t})})]})}},1399:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(5893),i=t(7294),s=t(7533),a=t(8771);function o(e){var n=e.open,t=e.setOpen,o=e.onSubmit,l=e.title,c=e.message,u=(0,i.useRef)(null);return(0,r.jsx)(s.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:u,open:n,onClose:function(){return t(!1)},children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)(s.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)("div",{className:"relative inline-block bg-gradient-to-tr from-[#B06363] to-[#FF00C7] rounded-3xl text-left overflow-hidden shadow-xl transform transition-all my-8 align-middle max-w-2xl w-full p-px",children:(0,r.jsxs)("div",{className:"bg-black px-10 pt-12 pb-8 rounded-3xl",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"rounded-full bg-gradient-to-tr from-[#B06363] to-[#FF00C7]",children:(0,r.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-black m-0.5",children:(0,r.jsx)(a.Z,{className:"h-6 w-6 text-[#D3398F]","aria-hidden":"true"})})}),(0,r.jsxs)("div",{className:"mt-1 ml-5 text-left",children:[(0,r.jsx)(s.V.Title,{as:"h3",className:"text-base leading-6 font-bold",children:l}),(0,r.jsx)("p",{className:"text-sm text-gray-300 my-0.5",children:c})]})]}),(0,r.jsxs)("div",{className:"mt-8 text-sm flex flex-row-reverse",children:[(0,r.jsx)("button",{type:"button",className:"w-auto inline-flex justify-center rounded-full bg-gradient-to-tr from-[#B06363] to-[#FF00C7] focus:outline-none focus:ring-2 focus:ring-[#FF00C7] ml-3",onClick:function(){return o()},children:(0,r.jsx)("div",{className:"bg-black px-10 py-3.5 rounded-full m-0.5",children:"Delete"})}),(0,r.jsx)("button",{type:"button",className:"w-auto inline-flex items-center justify-center rounded-full px-10 py-3.5 bg-black hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-zinc-600",onClick:function(){return t(!1)},ref:u,children:"Cancel"})]})]})})]})})}},5857:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(5893),i=t(9521);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function o(e){var n=e.columns,t=e.data,s=e.getRowProps,o=void 0===s?function(){return{}}:s,l=e.showHeader,c=void 0===l||l,u=(0,i.useTable)({columns:n,data:t}),d=u.getTableProps,f=u.getTableBodyProps,m=u.headerGroups,x=u.rows,h=u.prepareRow;return(0,r.jsxs)("table",a({className:"w-full table-auto"},d(),{children:[c&&(0,r.jsx)("thead",{className:"border-b border-zinc-800",children:m.map((function(e){return(0,r.jsx)("tr",a({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,r.jsx)("th",a({className:"text-left uppercase py-2 font-normal text-xs text-gray-300"},e.getHeaderProps(),{children:e.render("Header")}),e.id)}))}),e.id)}))}),(0,r.jsx)("tbody",a({},f(),{children:x.map((function(e){return h(e),(0,r.jsx)("tr",a({className:"text-sm group"},e.getRowProps(o(e)),{children:e.cells.map((function(e){return(0,r.jsx)("td",a({className:"py-1 group-first:pt-3"},e.getCellProps(),{children:e.render("Cell")}),e.id)}))}),e.id)}))}))]}))}},661:function(e,n,t){t.d(n,{A:function(){return i}});var r=t(8100);function i(){var e=(0,r.ZP)("/v1/identities/self").data,n=(0,r.ZP)((function(){return"/v1/identities/".concat(null===e||void 0===e?void 0:e.id,"/grants?resource=infra")})),t=n.data,i=n.error;return{loading:!t&&!i,admin:!!(null===t||void 0===t?void 0:t.find((function(e){return"admin"===e.privilege})))}}}}]);