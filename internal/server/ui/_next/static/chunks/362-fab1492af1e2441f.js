"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[362],{3251:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(5893),s=n(1664),i=n(6763);function a(e){var t=e.title,n=e.subtitle,a=e.iconPath,o=e.buttonText,l=e.buttonHref;return(0,r.jsxs)("div",{className:"flex flex-col text-center py-32 mx-auto",children:[(0,r.jsx)("img",{src:a,className:"mx-auto my-4 w-7 h-7",alt:t}),(0,r.jsx)("h1",{className:"text-base font-bold mb-2",children:t}),(0,r.jsx)("h2",{className:"text-gray-300 mb-4 text-2xs max-w-xs mx-auto",children:n}),l&&(0,r.jsx)(s.default,{href:l,children:(0,r.jsxs)("button",{className:"flex items-center border border-violet-300 rounded-md px-4 py-2.5 my-2 mx-auto",children:[(0,r.jsx)(i.Z,{className:"w-2.5 h-2.5 mr-1"}),(0,r.jsx)("div",{className:"text-violet-100 text-2xs font-medium",children:o})]})})]})}},9540:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(4051),s=n.n(r),i=n(5893),a=n(1664),o=n(1163),l=n(8100),c=n(661);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,s,i,a){try{var o=e[i](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){d(i,r,s,a,o,"next",e)}function o(e){d(i,r,s,a,o,"throw",e)}a(void 0)}))}}function x(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t,n=e.children,r=(0,o.useRouter)(),u=(0,l.ZP)("/v1/identities/self").data,d=(0,l.ZP)("/v1/version").data,m=(0,c.A)(),h=m.admin,p=m.loading,v=(0,l.kY)().mutate;if(p)return null;function b(){return(b=f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch("/v1/logout",{method:"POST"}),e.next=3,v("/v1/identities/self",f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))));case 3:r.replace("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=[{name:"Infrastructure",href:"/destinations",icon:"/destinations.svg"},{name:"Providers",href:"/providers",icon:"/providers.svg",admin:!0}],g=[{name:"Settings",href:"/settings",admin:!0}],j=!0,N=!1,w=void 0;try{for(var P,k=x(y).concat(x(g))[Symbol.iterator]();!(j=(P=k.next()).done);j=!0){var O=P.value;if(r.asPath.startsWith(O.href)&&O.admin&&!h)return r.replace("/"),null}}catch(Z){N=!0,w=Z}finally{try{j||null==k.return||k.return()}finally{if(N)throw w}}return(0,i.jsxs)("div",{className:"flex h-full relative",children:[(0,i.jsxs)("nav",{className:"flex-none flex flex-col w-56 inset-y-0 overflow-hidden",children:[(0,i.jsx)("div",{className:"flex-shrink-0 flex items-center mt-6 mb-10 lg:my-18 px-5 select-none",children:(0,i.jsx)(a.default,{href:"/",children:(0,i.jsx)("a",{children:(0,i.jsx)("img",{className:"h-[15px]",src:"infra.svg",alt:"Infra"})})})}),(0,i.jsx)("div",{className:"flex-1 space-y-1 px-5 select-none",children:y.map((function(e){return(0,i.jsx)(a.default,{href:e.href,children:(0,i.jsxs)("a",{href:e.href,className:"\n                  ".concat(r.asPath.startsWith(e.href)?"text-white":"text-gray-400","\n                  rounded-lg py-2 flex items-center text-xs leading-none transition-colors duration-100\n                  ").concat(e.admin&&!h?"opacity-30 pointer-events-none":"","\n                "),children:[(0,i.jsx)("img",{src:e.icon,className:"\n                    ".concat(r.asPath.startsWith(e.href)?"":"opacity-40","\n                    mr-3 flex-shrink-0 h-[18px] w-[18px]\n                  ")}),e.name]})},e.name)}))}),(0,i.jsxs)("div",{className:"flex group mx-2 mb-2 p-2.5 pb-1 h-12 hover:h-[132px] transition-all duration-300 ease-in-out rounded-xl bg-transparent hover:bg-gray-900 overflow-hidden",children:[(0,i.jsx)("div",{className:"flex flex-none self-start items-stretch border border-violet-300/40 rounded-md w-[23px] h-[23px]",children:(0,i.jsx)("div",{className:"flex flex-1 justify-center items-center border border-violet-300/70 text-3xs rounded-[4px] leading-none font-normal m-0.5 select-none",children:(0,i.jsx)("span",{className:"inline-block -mt-0.5",children:null===u||void 0===u||null===(t=u.name)||void 0===t?void 0:t[0]})})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0 ml-1 px-2 select-none",children:[(0,i.jsx)("div",{className:"text-gray-400 group-hover:text-white transition-colors duration-300 mt-[5px] mb-2 leading-none truncate text-2xs pb-px",children:null===u||void 0===u?void 0:u.name}),(0,i.jsxs)("nav",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[g.map((function(e){return(0,i.jsx)(a.default,{href:e.href,children:(0,i.jsx)("a",{className:"w-full flex py-1.5 text-xs text-gray-400 hover:text-white ".concat(e.admin&&!h?"pointer-events-none opacity-20":""),children:e.name})},e.name)})),(0,i.jsx)("button",{onClick:function(){return function(){return b.apply(this,arguments)}()},className:"w-full text-left py-1.5 text-gray-400 text-xs hover:text-white cursor-pointer",children:"Sign Out"}),(0,i.jsxs)("div",{className:"text-3xs mt-2 leading-none text-violet-50/40",children:["Infra version ",(0,i.jsx)("span",{className:"font-mono select-text",children:null===d||void 0===d?void 0:d.version})]})]})]})]})]}),(0,i.jsx)("main",{className:"w-full overflow-x-hidden overflow-y-scroll",children:(0,i.jsx)("div",{className:"mx-6 h-full",children:n})})]})}},5140:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(5893);function s(){return(0,r.jsx)("div",{className:"h-full -mt-20 flex items-center justify-center",children:(0,r.jsx)("img",{className:"w-20 h-20 animate-spin-fast",src:"/spinner.svg"})})}},1399:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(5893),s=n(7533),i=n(8771);function a(e){var t=e.open,n=e.setOpen,a=e.onSubmit,o=e.title,l=e.message,c=e.onCancel;return(0,r.jsxs)(s.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center",open:t,onClose:function(){return n(!1)},children:[(0,r.jsx)(s.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-80 transition-opacity"}),(0,r.jsxs)("aside",{className:"relative inline-block rounded-lg text-left bg-black border border-gray-800 overflow-hidden transform transition-all align-middle max-w-xs w-full p-5",children:[(0,r.jsxs)("header",{className:"flex items-center my-2 text-left",children:[(0,r.jsx)(i.Z,{className:"h-6 w-6 stroke-[1.5] text-pink-400 mr-2","aria-hidden":"true"}),(0,r.jsx)(s.V.Title,{as:"h3",className:"text-sm",children:o})]}),(0,r.jsx)(s.V.Description,{className:"text-2xs text-gray-300 my-12",children:l}),(0,r.jsxs)("footer",{className:"mt-8 text-sm flex flex-row-reverse",children:[(0,r.jsx)("button",{type:"button",className:"text-violet-200 border border-violet-200 focus:outline-violet-100 focus:text-white outline-offset-0 leading-none rounded-md text-2xs ml-3 px-8",onClick:function(){return a()},children:"Delete"}),(0,r.jsx)("button",{type:"button",className:"px-8 py-2 text-3xs text-gray-400 uppercase focus:outline-none focus:text-gray-100",onClick:function(){return c&&c()},children:"Cancel"})]})]})]})}},5388:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(5893),s=n(1664),i=n(6763);function a(e){var t=e.header,n=e.buttonLabel,a=e.buttonHref;return(0,r.jsxs)("div",{className:"flex justify-between items-center my-3 min-h-[40px]",children:[(0,r.jsx)("h1",{className:"text-xs font-semibold",children:t}),a&&(0,r.jsx)(s.default,{href:a,children:(0,r.jsxs)("button",{className:"border border-violet-300 text-violet-100 rounded-md flex items-center text-sm px-4 py-2.5",children:[(0,r.jsx)(i.Z,{className:"w-3 h-3 mr-1"}),(0,r.jsx)("div",{className:"font-medium text-2xs",children:n})]})})]})}},5857:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5893),s=n(9521);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function o(e){var t=e.columns,n=e.data,i=e.getRowProps,o=void 0===i?function(){return{}}:i,l=e.highlight,c=void 0===l||l,u=(0,s.useTable)({columns:t,data:n}),d=u.getTableProps,f=u.getTableBodyProps,x=u.headerGroups,m=u.rows,h=u.prepareRow;return(0,r.jsxs)("table",a({className:"w-full table-auto"},d(),{children:[(0,r.jsx)("thead",{children:x.map((function(e){return(0,r.jsx)("tr",a({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,r.jsx)("th",a({className:"text-left uppercase font-normal text-3xs py-1 text-gray-400 border-b border-gray-800"},e.getHeaderProps(),{children:e.render("Header")}),e.id)}))}),e.id)}))}),(0,r.jsx)("tbody",a({className:"relative"},f(),{children:m.map((function(e){return h(e),(0,r.jsx)("tr",a({className:"group border-b border-gray-800 text-2xs ".concat(c?"hover:bg-gray-900/60":"")},e.getRowProps(o(e)),{children:e.cells.map((function(e){return(0,r.jsx)("td",a({},e.getCellProps(),{children:e.render("Cell")}),e.id)}))}),e.id)}))}))]}))}},661:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(8100);function s(){var e=(0,r.ZP)("/v1/identities/self").data,t=(0,r.ZP)((function(){return"/v1/identities/".concat(null===e||void 0===e?void 0:e.id,"/grants?resource=infra")})),n=t.data,s=t.error;return{loading:!n&&!s,admin:!!(null===n||void 0===n?void 0:n.find((function(e){return"admin"===e.privilege})))}}}}]);