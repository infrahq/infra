sources:
  - type: okta
    domain: overwrite.example.com
    clientId: 0oapn0qwiQPiMIyR35d6
    clientSecret: okta-secrets/clientSecret
    apiToken: okta-secrets/apiToken
  - type: okta
    domain: test.example.com
    clientId: 0oapn0qwiQPiMIyR35d6
    clientSecret: okta-secrets/clientSecret
    apiToken: okta-secrets/apiToken

groups:
  - name: ios-developers
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        destinations:
          - name: cluster-AAA
      - name: audit
        kind: cluster-role
        destinations:
          - name: cluster-CCC
            namespaces: 
              - infrahq
              - development
      - name: pod-create
        kind: role
        destinations:
          - name: cluster-CCC
            namespaces: 
              - infrahq
  - name: mac-admins
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        destinations:
          - name: cluster-BBB
  - name: adversaries
    source: outside
    roles:
      - name: cluster-admin
        kind: cluster-role
        destinations:
          - name: cluster-AAA
  - name: heroes
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        destinations:
          - name: cluster-CCC
  - name: villains
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        destinations:
          - name: cluster-CCC

users:
  - email: admin@example.com
    roles:
      - name: admin
        kind: cluster-role
        destinations:
          - name: cluster-AAA
          - name: cluster-BBB
      - name: audit
        kind: cluster-role
        destinations:
          - name: cluster-CCC
            namespaces: 
              - infrahq
              - development
      - name: pod-create
        kind: role
        destinations:
          - name: cluster-CCC
            namespaces: 
              - infrahq
  - email: unknown@example.com
    roles:
      - name: writer
        kind: cluster-role
        destinations:
          - name: cluster-AAA
