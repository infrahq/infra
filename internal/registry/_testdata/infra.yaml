sources:
  - type: okta
    domain: overwrite.example.com
    clientId: 0oapn0qwiQPiMIyR35d6
    clientSecret: okta-secrets/clientSecret
    apiToken: okta-secrets/apiToken
  - type: okta
    domain: test.example.com
    clientId: 0oapn0qwiQPiMIyR35d6
    clientSecret: okta-secrets/clientSecret
    apiToken: okta-secrets/apiToken

groups:
  - name: ios-developers
    source: infra
    roles:
      - name: writer
        kind: cluster-role
        clusters:
          - name: cluster-AAA
  - name: mac-admins
    source: infra
    roles:
      - name: writer
        kind: cluster-role
        clusters:
          - name: cluster-BBB
  - name: adversaries
    source: outside
    roles:
      - name: cluster-admin
        kind: cluster-role
        clusters:
          - name: cluster-AAA
  - name: heroes
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        clusters:
          - name: cluster-CCC
  - name: villains
    source: okta
    roles:
      - name: writer
        kind: cluster-role
        clusters:
          - name: cluster-CCC

users:
  - name: woz@example.com
    groups:
      - ios-developers
      - mac-admins
  - name: admin@example.com
    roles:
      - name: admin
        kind: cluster-role
        clusters:
          - name: cluster-AAA
          - name: cluster-BBB
  - name: user@example.com
    groups:
      - ios-developers
    roles:
      - name: reader
        kind: cluster-role
        clusters:
          - name: cluster-AAA
          - name: cluster-UNKNOWN
  - name: unknown@example.com
    groups:
      - adversaries
    roles:
      - name: writer
        kind: cluster-role
        clusters:
          - name: cluster-AAA
